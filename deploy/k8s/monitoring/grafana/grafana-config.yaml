apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana-config
data:
  grafana.ini: |
    [server]
    root_url = https://monitoring.insurance-lead-gen.com

    [database]
    type = sqlite3
    path = /var/lib/grafana/grafana.db

    [security]
    admin_user = $__GF_SECURITY_ADMIN_USER__
    admin_password = $__GF_SECURITY_ADMIN_PASSWORD__
    disable_gravatar = true

    [users]
    allow_sign_up = false
    auto_assign_org = true
    auto_assign_org_role = Viewer

    [auth.anonymous]
    enabled = false

    [session]
    provider = file
    provider_config = sessions

    [log]
    mode = console
    level = info

    [log.console]
    format = json

    [dashboards]
    default_home_dashboard_path = /var/lib/grafana/dashboards/home.json

    [metrics]
    enabled = true

    [alerting]
    enabled = true
    execute_alerts = true

    [unified_alerting]
    enabled = true
