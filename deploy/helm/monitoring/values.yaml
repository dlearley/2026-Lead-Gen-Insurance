# Monitoring Stack values
prometheus:
  enabled: true
  replicaCount: 2
  service:
    type: ClusterIP
    port: 9090
  resources:
    limits:
      cpu: 500m
      memory: 1Gi
    requests:
      cpu: 250m
      memory: 512Mi
  retention: "30d"
  scrapeInterval: "15s"
  alertmanager:
    enabled: true
    replicaCount: 2

grafana:
  enabled: true
  replicaCount: 2
  adminUser: admin
  adminPassword: admin
  service:
    type: ClusterIP
    port: 3000
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi
  datasources:
    datasources.yaml:
      apiVersion: 1
      datasources:
        - name: Prometheus
          type: prometheus
          url: http://prometheus:9090
          access: proxy
          isDefault: true
        - name: Loki
          type: loki
          url: http://loki:3100
          access: proxy
        - name: Jaeger
          type: jaeger
          url: http://jaeger:16686
          access: proxy

loki:
  enabled: true
  replicaCount: 2
  service:
    type: ClusterIP
    port: 3100
  resources:
    limits:
      cpu: 500m
      memory: 1Gi
    requests:
      cpu: 250m
      memory: 512Mi
  retention: "30d"

jaeger:
  enabled: true
  collector:
    replicaCount: 2
    port: 14268
  query:
    replicaCount: 1
    port: 16686
  storage:
    type: badger
    badger:
      ephemeral: true

promtail:
  enabled: true
  config:
    lokiAddress: http://loki:3100/loki/api/v1/push
    snippets:
      pipelineStages:
        - cri: {}

alertmanager:
  enabled: true
  replicaCount: 2
  service:
    type: ClusterIP
    port: 9093
  route:
    receiver: default
  receivers:
    - name: default
      webhookConfigs:
        - url: http://alertmanager:9093/api/v1/alerts
