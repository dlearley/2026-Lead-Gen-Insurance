// Prisma schema for Insurance Lead Generation AI Platform
// This schema defines the relational data model for PostgreSQL
datasource db {
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
  output   = "../node_modules/@prisma/client"
}

// Organization model - stores company/broker information
model Organization {
  id                String   @id @default(uuid())
  name              String   @unique
  slug              String   @unique
  domain            String?
  logoUrl           String?
  primaryColor      String?  @default("#3B82F6")
  secondaryColor    String?  @default("#10B981")
  
  // Company Info
  companySize       String?  // '1-10', '11-50', '51-200', '201-500', '500+'
  industry          String?  // 'health', 'life', 'property', 'casualty', 'commercial', 'auto'
  address           String?
  city              String?
  state             String?
  zipCode           String?
  country           String?
  phone             String?
  
  // Status & Configuration
  status            OrganizationStatus @default(PENDING)
  isActive          Boolean @default(false)
  setupComplete     Boolean @default(false)
  verifiedAt        DateTime?
  
  // Subscription
  subscriptionId    String?
  subscriptionStatus SubscriptionStatus @default(PENDING)
  subscriptionPlan  String?  // 'free', 'starter', 'professional', 'enterprise'
  
  // API & Security
  apiKeyHash        String?
  webhookUrl        String?
  
  // Metadata
  preferences       Json?    // Custom notification settings, etc.
  customFields      Json?    // Dynamic schema fields
  
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  // Relationships
  users                 User[]
  teamInvitations       TeamInvitation[]
  auditLogs             AuditLog[]
  
  // Indexes
  @@index([slug])
  @@index([status])
  @@index([isActive])
  @@index([subscriptionStatus])
  @@index([createdAt])
}

// User model - enhanced with organization support
model User {
  id                String   @id @default(uuid())
  email             String   @unique
  firstName         String?
  lastName          String?
  passwordHash      String?
  
  // Organization membership
  organizationId    String?
  role              UserRole @default(USER)
  permissions       Json?    // Custom permissions for fine-grained access control
  
  // Authentication
  isActive          Boolean  @default(false)  // Account is active
  emailVerified     Boolean  @default(false)  // Email verified
  lastLoginAt       DateTime?
  failedLoginCount  Int      @default(0)
  lockoutUntil      DateTime?
  
  // Profile
  avatarUrl         String?
  phone             String?
  jobTitle          String?
  department        String?
  
  // Social Auth
  googleId          String?  @unique
  microsoftId       String?  @unique
  
  // Onboarding & Preferences
  onboardingStep    Int?     @default(0)  // Current step in onboarding wizard
  preferences       Json?    // User preferences (notifications, theme, etc.)
  
  // Security & Tokens
  resetPasswordToken String?  @unique
  resetPasswordExpires DateTime?
  emailVerificationToken String? @unique
  emailVerificationExpires DateTime?
  
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  // Relationships
  organization      Organization? @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  auditLogs         AuditLog[]
  sentInvitations   TeamInvitation[] @relation("inviter")
  receivedInvitations TeamInvitation[] @relation("invitee")
  
  // Indexes
  @@index([email])
  @@index([organizationId])
  @@index([role])
  @@index([isActive])
  @@index([emailVerified])
  @@index([lastLoginAt])
  @@index([createdAt])
}

// TeamInvitation model - for inviting team members
model TeamInvitation {
  id              String   @id @default(uuid())

  email           String   // Email of the invited user
  organizationId  String
  role            UserRole @default(USER)  // Role they will have in the organization
  permissions     Json?    // Custom permissions for this invitation
  
  status          InvitationStatus @default(PENDING)
  expiresAt       DateTime
  acceptedAt      DateTime?
  
  // Inviter info
  inviterId       String   // Who sent the invitation
  
  // Token for accepting invitation
  token           String   @unique
  
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  // Relationships
  organization    Organization @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  inviter         User @relation("inviter", fields: [inviterId], references: [id])
  invitee         User? @relation("invitee", fields: [email], references: [email])
  
  // Indexes
  @@index([email])
  @@index([organizationId])
  @@index([status])
  @@index([token])
  @@index([expiresAt])
}

// AuditLog model - comprehensive audit trail for all actions
model AuditLog {
  id              String   @id @default(uuid())
  organizationId  String?
  userId          String?
  
  entityType      String?  // 'user', 'lead', 'policy', etc.
  entityId        String?
  action          String   // 'create', 'update', 'delete', 'login', etc.
  
  // What changed
  oldValues       Json?    // Previous values (for updates)
  newValues       Json?    // New values
  
  // Additional context
  ipAddress       String?
  userAgent       String?
  metadata        Json?    // Additional context
  
  createdAt       DateTime @default(now())

  // Relationships
  organization    Organization? @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  user            User? @relation(fields: [userId], references: [id])
  
  // Indexes
  @@index([organizationId])
  @@index([userId])
  @@index([entityType])
  @@index([entityId])
  @@index([action])
  @@index([createdAt])
}

// Lead model - stores all lead information
model Lead {
  id              String     @id @default(uuid())
  organizationId  String?    // Optional: null for global/leads before organization assignment
  
  source          String
  email           String?
  phone           String?
  firstName       String?
  lastName        String?
  street          String?
  city            String?
  state           String?
  zipCode         String?
  country         String?
  insuranceType   InsuranceType?
  qualityScore    Int?
  status          LeadStatus  @default(RECEIVED)
  metadata        Json?
  createdAt       DateTime   @default(now())
  updatedAt       DateTime   @updatedAt

  // Relationships
  assignments     LeadAssignment[]
  events          Event[]
  attributions    Attribution[]

  // Indexes for performance
  @@index([email])
  @@index([phone])
  @@index([status])
  @@index([organizationId])
  @@index([createdAt])
  @@index([status, createdAt])
  @@index([insuranceType, qualityScore])
  @@index([zipCode, insuranceType])
  @@index([source, status])
}

// Agent model - stores insurance agent information
model Agent {
  id                  String     @id @default(uuid())
  
  // Organization & User relationship
  userId              String?    @unique      // Links to User if agent is also a platform user
  organizationId      String?                 // Organization this agent belongs to
  
  firstName           String
  lastName            String
  email               String     @unique
  phone               String
  licenseNumber       String     @unique
  specializations     String[]
  city                String
  state               String
  country             String
  rating              Float      @default(0.0)
  isActive            Boolean    @default(true)
  maxLeadCapacity     Int        @default(10)
  currentLeadCount    Int        @default(0)
  averageResponseTime Float      @default(0.0)
  conversionRate      Float      @default(0.0)
  createdAt           DateTime   @default(now())
  updatedAt           DateTime   @updatedAt

  // Relationships
  assignments         LeadAssignment[]
  specializationsDetail AgentSpecialization[]
  availability        AgentAvailability?
  routingHistory      LeadRoutingHistory[]
  performanceMetrics  AgentPerformanceMetrics[]

  // Indexes
  @@index([email])
  @@index([licenseNumber])
  @@index([isActive])
  @@index([organizationId])
  @@index([city])
  @@index([state])
} 

// LeadAssignment model - tracks lead to agent assignments
model LeadAssignment {
  id            String      @id @default(uuid())
  organizationId String?
  leadId        String
  agentId       String
  assignedAt    DateTime   @default(now())
  status        AssignmentStatus @default(PENDING)
  acceptedAt    DateTime?
  notes         String?
  assignedBy    String?    // User who assigned this lead

  // Relationships
  lead          Lead        @relation(fields: [leadId], references: [id], onDelete: Cascade)
  agent         Agent       @relation(fields: [agentId], references: [id], onDelete: Cascade)
  organization  Organization? @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  // Indexes
  @@index([leadId])
  @@index([agentId])
  @@index([status])
  @@index([organizationId])
  @@index([assignedAt])
}

// Event model - event sourcing for all system events
model Event {
  id          String    @id @default(uuid())
  type        String
  source      String
  entityType  String
  entityId    String
  organizationId String?  // Optional: organization context for events
  data        Json
  timestamp   DateTime @default(now())
  metadata    Json?

  // Relationships
  lead        Lead?     @relation(fields: [entityId], references: [id], onDelete: Cascade)
  organization Organization? @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  // Indexes
  @@index([type])
  @@index([source])
  @@index([entityType])
  @@index([entityId])
  @@index([organizationId])
  @@index([timestamp])
}

// Carrier model - stores insurance carrier information and partnership details
model Carrier {
  id                  String     @id @default(uuid())
  
  organizationId      String?    // Optional: carrier specific to organization
  
  name                String
  description         String?
  website             String?
  contactEmail        String
  contactPhone        String
  address             String?
  city                String?
  state               String?
  zipCode             String?
  country             String?
  partnershipTier     PartnershipTier @default(BASIC)
  partnershipStatus   PartnershipStatus @default(ACTIVE)
  contractStartDate   DateTime
  contractEndDate     DateTime?
  commissionRate      Float      @default(0.0)
  isActive            Boolean    @default(true)
  integrationEnabled  Boolean    @default(false)
  apiEndpoint         String?
  apiKey              String?
  performanceScore    Float      @default(0.0)
  conversionRate      Float      @default(0.0)
  averageResponseTime Float      @default(0.0)
  totalLeadsReceived  Int        @default(0)
  totalLeadsConverted Int        @default(0)
  createdAt           DateTime   @default(now())
  updatedAt           DateTime   @updatedAt

  // Relationships
  performanceMetrics CarrierPerformanceMetric[]
  organization    Organization? @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  // Indexes
  @@index([name])
  @@index([partnershipStatus])
  @@index([partnershipTier])
  @@index([isActive])
  @@index([organizationId])
  @@index([createdAt])
}

// CarrierPerformanceMetric model - tracks carrier performance over time
model CarrierPerformanceMetric {
  id                    String     @id @default(uuid())
  carrierId             String
  organizationId        String?    // Optional: org-specific metrics
  month                 Int
  year                  Int
  leadsReceived         Int        @default(0)
  leadsConverted        Int        @default(0)
  conversionRate        Float      @default(0.0)
  averageResponseTime   Float      @default(0.0)
  averageQuoteValue     Float      @default(0.0)
  customerSatisfaction  Float      @default(0.0)
  onTimeDeliveryRate    Float      @default(0.0)
  createdAt             DateTime   @default(now())

  // Relationships
  carrier               Carrier    @relation(fields: [carrierId], references: [id], onDelete: Cascade)
  organization          Organization? @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  // Indexes
  @@index([carrierId])
  @@index([organizationId])
  @@index([year])
  @@index([month])
  @@index([createdAt])
  @@unique([carrierId, organizationId, year, month])
}

// LeadAssignment model - tracks lead to agent assignments
model LeadAssignment {
  id            String      @id @default(uuid())
  leadId        String
  agentId       String
  assignedAt    DateTime   @default(now())
  status        AssignmentStatus @default(PENDING)
  acceptedAt    DateTime?
  notes         String?

  // Relationships
  lead          Lead        @relation(fields: [leadId], references: [id], onDelete: Cascade)
  agent         Agent       @relation(fields: [agentId], references: [id], onDelete: Cascade)

  // Indexes
  @@index([leadId])
  @@index([agentId])
  @@index([status])
  @@index([assignedAt])
  @@index([status, assignedAt])
  @@index([agentId, status])
  @@index([leadId, status])
}

// Event model - event sourcing for all system events
model Event {
  id          String    @id @default(uuid())
  type        String
  source      String
  entityType  String
  entityId    String
  data        Json
  timestamp   DateTime @default(now())
  metadata    Json?

  // Relationships
  lead        Lead?     @relation(fields: [entityId], references: [id], onDelete: Cascade)

  // Indexes
  @@index([type])
  @@index([source])
  @@index([entityType])
  @@index([entityId])
  @@index([timestamp])
  @@index([entityType, entityId, timestamp])
  @@index([type, timestamp])
  @@index([source, timestamp])
}

// Carrier model - stores insurance carrier information and partnership details
model Carrier {
  id                  String     @id @default(uuid())
  name                String
  description         String?
  website             String?
  contactEmail        String
  contactPhone        String
  address             String?
  city                String?
  state               String?
  zipCode             String?
  country             String?
  partnershipTier     PartnershipTier @default(BASIC)
  partnershipStatus   PartnershipStatus @default(ACTIVE)
  contractStartDate   DateTime
  contractEndDate     DateTime?
  commissionRate      Float      @default(0.0)
  isActive            Boolean    @default(true)
  integrationEnabled  Boolean    @default(false)
  apiEndpoint         String?
  apiKey              String?
  performanceScore    Float      @default(0.0)
  conversionRate      Float      @default(0.0)
  averageResponseTime Float      @default(0.0)
  totalLeadsReceived  Int        @default(0)
  totalLeadsConverted Int        @default(0)
  createdAt           DateTime   @default(now())
  updatedAt           DateTime   @updatedAt

  // Relationships
  performanceMetrics CarrierPerformanceMetric[]

  // Indexes
  @@index([name])
  @@index([partnershipStatus])
  @@index([partnershipTier])
  @@index([isActive])
  @@index([createdAt])
  @@index([isActive, partnershipStatus])
  @@index([partnershipTier, performanceScore])
}

// CarrierPerformanceMetric model - tracks carrier performance over time
model CarrierPerformanceMetric {
  id                    String     @id @default(uuid())
  carrierId             String
  month                 Int
  year                  Int
  leadsReceived         Int        @default(0)
  leadsConverted        Int        @default(0)
  conversionRate        Float      @default(0.0)
  averageResponseTime   Float      @default(0.0)
  averageQuoteValue     Float      @default(0.0)
  customerSatisfaction  Float      @default(0.0)
  onTimeDeliveryRate    Float      @default(0.0)
  createdAt             DateTime   @default(now())

  // Relationships
  carrier               Carrier    @relation(fields: [carrierId], references: [id], onDelete: Cascade)

  // Indexes
  @@index([carrierId])
  @@index([year])
  @@index([month])
  @@index([createdAt])
  @@unique([carrierId, year, month])
}

// Messaging Models
model Conversation {
  id String @id @default(cuid())
  organizationId String
  
  name String? // null for direct messages
  type ConversationType
  
  isArchived Boolean @default(false)
  lastMessageAt DateTime?
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  participants ConversationParticipant[]
  messages Message[]
}

model ConversationParticipant {
  id String @id @default(cuid())
  conversationId String
  userId String
  
  role String // member, moderator, admin
  joinedAt DateTime @default(now())
  leftAt DateTime?
  
  lastReadAt DateTime?
  isMuted Boolean @default(false)
  
  conversation Conversation @relation(fields: [conversationId], references: [id])
}

model Message {
  id String @id @default(cuid())
  conversationId String
  authorId String
  
  content String
  contentType MessageContentType
  
  editedAt DateTime?
  deletedAt DateTime?
  
  isPinned Boolean @default(false)
  
  threadId String? // for threaded messages
  
  createdAt DateTime @default(now())
  
  reactions MessageReaction[]
  attachments MessageAttachment[]
  mentions String[] // mentioned user ids
  
  conversation Conversation @relation(fields: [conversationId], references: [id])
  
  @@index([conversationId, createdAt])
}

model MessageReaction {
  id String @id @default(cuid())
  messageId String
  userId String
  emoji String
  
  createdAt DateTime @default(now())
  
  message Message @relation(fields: [messageId], references: [id])
  
  @@unique([messageId, userId, emoji])
}

model MessageAttachment {
  id String @id @default(cuid())
  messageId String
  
  fileName String
  fileUrl String
  fileSize Int
  mimeType String
  
  createdAt DateTime @default(now())
  
  message Message @relation(fields: [messageId], references: [id])
}

model UserPresence {
  id String @id @default(cuid())
  userId String @unique
  organizationId String
  
  status UserPresenceStatus
  lastSeen DateTime @default(now())
  
  updatedAt DateTime @updatedAt
}

// Video & Voice
model Call {
  id String @id @default(cuid())
  organizationId String
  
  initiatorId String
  status CallStatus
  
  callType CallType
  mediaType MediaType
  
  roomId String? // for meeting rooms
  
  startedAt DateTime?
  endedAt DateTime?
  duration Int? // seconds
  
  recordingId String?
  transcription String?
  
  createdAt DateTime @default(now())
  
  participants CallParticipant[]
  recording CallRecording?
}

model CallParticipant {
  id String @id @default(cuid())
  callId String
  userId String
  
  joinedAt DateTime
  leftAt DateTime?
  
  mediaEnabled Json // { audio: bool, video: bool }
  
  call Call @relation(fields: [callId], references: [id])
}

model CallRecording {
  id String @id @default(cuid())
  callId String @unique
  
  fileUrl String
  fileSize Int
  duration Int
  
  storageProvider String // s3, gcs, etc
  
  createdAt DateTime @default(now())
  
  call Call @relation(fields: [callId], references: [id])
}

model MeetingRoom {
  id String @id @default(cuid())
  organizationId String
  
  name String
  description String?
  
  roomUrl String @unique
  password String?
  
  capacity Int?
  
  isActive Boolean @default(true)
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  schedules MeetingSchedule[]
}

model MeetingSchedule {
  id String @id @default(cuid())
  roomId String
  
  title String
  description String?
  
  startTime DateTime
  endTime DateTime
  
  organizers String[]
  participants String[]
  
  createdAt DateTime @default(now())
  
  room MeetingRoom @relation(fields: [roomId], references: [id])
}

// Case Management
model Case {
  id String @id @default(cuid())
  organizationId String
  
  caseNumber String @unique
  title String
  description String?
  
  status CaseStatus
  priority CasePriority
  
  assignedToId String?
  createdById String
  
  leadId String? // related lead
  
  tags String[]
  customFields Json
  
  dueDate DateTime?
  closedAt DateTime?
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  activities CaseActivity[]
  notes CaseNote[]
  documents CaseDocument[]
  relationships CaseRelationship[]
}

model CaseActivity {
  id String @id @default(cuid())
  caseId String
  
  activityType String // message, call, document, status_change, assignment
  activityId String? // reference to related record
  
  description String
  userId String
  
  createdAt DateTime @default(now())
  
  case Case @relation(fields: [caseId], references: [id])
  
  @@index([caseId, createdAt])
}

model CaseNote {
  id String @id @default(cuid())
  caseId String
  authorId String
  
  content String
  editedAt DateTime?
  
  isInternal Boolean @default(true)
  
  createdAt DateTime @default(now())
  
  case Case @relation(fields: [caseId], references: [id])
}

model CaseDocument {
  id String @id @default(cuid())
  caseId String
  documentId String
  
  documentType String // application, supporting, contract, etc
  
  addedAt DateTime @default(now())
  
  case Case @relation(fields: [caseId], references: [id])
}

model CaseRelationship {
  id String @id @default(cuid())
  caseId String
  relatedCaseId String
  
  relationshipType CaseRelationshipType
  
  createdAt DateTime @default(now())
}

model CaseTemplate {
  id String @id @default(cuid())
  organizationId String
  
  name String
  description String?
  category String
  
  defaultStatus CaseStatus
  defaultPriority CasePriority
  
  tags String[]
  customFields Json
  
  isActive Boolean @default(true)
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// Document Collaboration
model Document {
  id String @id @default(cuid())
  organizationId String
  
  title String
  mimeType String
  
  ownerId String
  
  isPublished Boolean @default(false)
  isArchived Boolean @default(false)
  
  fileSize Int
  pageCount Int? // for PDFs
  
  storageUrl String
  
  tags String[]
  customMetadata Json
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  versions DocumentVersion[]
  permissions DocumentPermission[]
  comments DocumentComment[]
}

model DocumentVersion {
  id String @id @default(cuid())
  documentId String
  
  versionNumber Int
  fileUrl String
  fileSize Int
  
  createdBy String
  createdAt DateTime @default(now())
  
  changeSummary String?
  
  document Document @relation(fields: [documentId], references: [id])
}

model DocumentPermission {
  id String @id @default(cuid())
  documentId String
  userId String
  
  permission DocumentPermission
  grantedAt DateTime @default(now())
  grantedBy String
  
  expiresAt DateTime?
  
  document Document @relation(fields: [documentId], references: [id])
  
  @@unique([documentId, userId])
}

model DocumentComment {
  id String @id @default(cuid())
  documentId String
  authorId String
  
  content String
  pageNumber Int? // for PDFs
  highlights Json? // text selection coordinates
  
  resolvedAt DateTime?
  resolvedBy String?
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  document Document @relation(fields: [documentId], references: [id])
}

// Integrations
model Integration {
  id String @id @default(cuid())
  organizationId String
  
  integrationType IntegrationType
  
  isActive Boolean @default(true)
  isAuthenticated Boolean @default(false)
  
  credentials Json // encrypted
  webhookUrl String?
  webhookSecret String?
  
  syncEnabled Boolean @default(false)
  lastSyncAt DateTime?
  
  config Json // integration-specific config
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model IntegrationSync {
  id String @id @default(cuid())
  integrationId String
  
  syncType String // leads, deals, contacts, activities
  direction String // one_way, two_way
  
  syncedRecords Int @default(0)
  failedRecords Int @default(0)
  
  lastRun DateTime
  nextRun DateTime?
  
  status String // pending, running, success, failed
  errorMessage String?
  
  createdAt DateTime @default(now())
}

model IntegrationMapping {
  id String @id @default(cuid())
  integrationId String
  
  sourceField String // field in external system
  targetField String // field in our system
  transformationRules Json?
  
  isActive Boolean @default(true)
  
  Integration Int @id @default(cuid())
}

model IntegrationWebhook {
  id String @id @default(cuid())
  integrationId String
  
  event String // lead.created, deal.updated, etc
  
  isActive Boolean @default(true)
  
  createdAt DateTime @default(now())
}

// Notifications
model Notification {
  id String @id @default(cuid())
  organizationId String
  userId String
  
  type NotificationType
  title String
  message String
  actionUrl String?
  
  readAt DateTime?
  
  createdAt DateTime @default(now())
  
  @@index([userId, readAt])
}

model NotificationPreference {
  id String @id @default(cuid())
  userId String @unique
  organizationId String
  
  pushEnabled Boolean @default(true)
  emailEnabled Boolean @default(true)
  
  messageNotifications MessageNotificationPreference
  callNotifications Boolean @default(true)
  caseNotifications Boolean @default(true)
  documentNotifications Boolean @default(true)
  
  quietHoursStart String? // HH:mm
  quietHoursEnd String?
  quietHoursEnabled Boolean @default(false)
  
  updatedAt DateTime @updatedAt
}

model PushToken {
  id String @id @default(cuid())
  userId String
  organizationId String
  
  token String
  platform String // ios, android, web
  deviceName String?
  
  isActive Boolean @default(true)
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  @@unique([userId, token, platform])
}

enum ConversationType {
  DIRECT
  GROUP
  CASE
}

enum MessageContentType {
  TEXT
  SYSTEM
  FILE
}

enum UserPresenceStatus {
  ONLINE
  AWAY
  OFFLINE
  DND
}

enum CallStatus {
  INITIATED
  RINGING
  CONNECTED
  ENDED
  FAILED
}

enum CallType {
  ONE_ON_ONE
  GROUP
}

enum MediaType {
  AUDIO
  VIDEO
}

enum CaseStatus {
  NEW
  IN_PROGRESS
  ON_HOLD
  COMPLETED
  CLOSED
}

enum CasePriority {
  LOW
  MEDIUM
  HIGH
  CRITICAL
}

enum CaseRelationshipType {
  PARENT
  CHILD
  RELATED
  DUPLICATE
}

enum DocumentPermission {
  VIEW
  COMMENT
  EDIT
  OWNER
}

enum IntegrationType {
  SALESFORCE
  HUBSPOT
  PIPEDRIVE
  SLACK
  TEAMS
  OUTLOOK
  GOOGLE_CALENDAR
  QUICKBOOKS
  XERO
}

enum NotificationType {
  MESSAGE
  CALL
  CASE
  DOCUMENT
}

enum MessageNotificationPreference {
  ALL
  MENTIONS
  NONE
}