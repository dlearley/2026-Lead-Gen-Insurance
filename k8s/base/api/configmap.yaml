apiVersion: v1
kind: ConfigMap
metadata:
  name: api-config
data:
  # Service Discovery
  DATA_SERVICE_URL: "http://data-service:80"
  ORCHESTRATOR_URL: "http://orchestrator:80"
  FRONTEND_URL: "http://frontend:80"
  BACKEND_URL: "http://backend:80"

  # Database
  DATABASE_URL: "postgresql://postgres:5432/insurance_lead_gen"
  DATABASE_POOL_MIN: "2"
  DATABASE_POOL_MAX: "20"
  DATABASE_CONNECTION_TIMEOUT: "30000"

  # Redis
  REDIS_URL: "redis://redis:6379"
  REDIS_CACHE_TTL: "3600"
  REDIS_MAX_RETRIES: "3"

  # Neo4j
  NEO4J_URI: "bolt://neo4j:7687"
  NEO4J_USER: "neo4j"

  # Qdrant
  QDRANT_URL: "http://qdrant:6333"

  # NATS
  NATS_URL: "nats://nats:4222"
  NATS_STREAM: "leads"

  # Feature Flags
  FEATURE_AI_LEAD_SCORING: "true"
  FEATURE_CUSTOMER_RETENTION: "true"
  FEATURE_REFERRAL_PROGRAM: "true"
  FEATURE_CLAIMS_MANAGEMENT: "true"
  FEATURE_COMMUNICATION_CENTER: "true"

  # Logging
  LOG_LEVEL: "info"
  LOG_FORMAT: "json"

  # Performance
  REQUEST_TIMEOUT: "30000"
  MAX_REQUEST_SIZE: "10485760"
  RATE_LIMIT_WINDOW: "60000"
  RATE_LIMIT_MAX: "100"

  # Batch Processing
  BATCH_SIZE: "100"
  BATCH_TIMEOUT: "5000"

  # AI/ML
  AI_MODEL_VERSION: "v2"
  AI_CACHE_ENABLED: "true"
  AI_MAX_CONCURRENT_REQUESTS: "10"

  # OpenTelemetry
  OTEL_EXPORTER_JAEGER_ENDPOINT: "http://jaeger-collector:14268/api/traces"
  OTEL_SERVICE_NAME: "api"
  OTEL_SAMPLING_PROBABILITY: "0.1"
